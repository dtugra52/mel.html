<script>

/* Normalize */
function normalize(text){
return text
.toLowerCase()
.replace(/Ä±/g,"i")
.replace(/ÄŸ/g,"g")
.replace(/Ã¼/g,"u")
.replace(/ÅŸ/g,"s")
.replace(/Ã¶/g,"o")
.replace(/Ã§/g,"c")
.replace(/\s+/g,"");
}

/* Password check */
function checkPassword(){

const input=document.getElementById("password").value;
const normalizedInput=normalize(input);

const valid1=normalize("7 kasÄ±m");
const valid2=normalize("07 kasÄ±m");

if(normalizedInput===valid1 || normalizedInput===valid2){

document.getElementById("lockScreen").style.display="none";
document.getElementById("mainContent").style.display="flex";
startMain();

}else{

document.getElementById("error").innerText="Hmm... tekrar dÃ¼ÅŸÃ¼n ðŸ’œ";

/* TitreÅŸim (mobil destekliyorsa) */
if(navigator.vibrate){
navigator.vibrate([200,100,200]);
}

/* Input shake efekti */
const inputBox=document.getElementById("password");
inputBox.style.transition="0.1s";
inputBox.style.transform="translateX(-5px)";
setTimeout(()=>inputBox.style.transform="translateX(5px)",100);
setTimeout(()=>inputBox.style.transform="translateX(0px)",200);

}
}

/* Main experience */
function startMain(){

const message="WILL U BEEEEEE MY VALENTINEEEEE ðŸ’œ";
let i=0;

function typeWriter(){
if(i<message.length){
document.getElementById("text").innerHTML+=message.charAt(i);
i++;
setTimeout(typeWriter,50);
}
}
typeWriter();

const noBtn=document.getElementById("no");
const yesBtn=document.getElementById("yes");

let clickCount=0;
let noScale=1;
let yesScale=1;

noBtn.addEventListener("click",()=>{
clickCount++;

noScale-=0.15;
if(noScale<0.3) noScale=0.3;
noBtn.style.transform="scale("+noScale+")";

yesScale+=0.15;
yesBtn.style.transform="scale("+yesScale+")";

if(clickCount==3) noBtn.textContent="are u sure";
if(clickCount==5) noBtn.textContent="u can't escape";

if(clickCount==7){
noBtn.textContent="YES, MY LOVE ðŸ’œ";
noBtn.style.background="#9d4edd";
noBtn.style.color="white";
noBtn.onclick=()=>finalScene();
}
});

yesBtn.addEventListener("click",()=>finalScene());
}

/* Final Scene */
function finalScene(){

const flash=document.createElement("div");
flash.classList.add("flash");
document.body.appendChild(flash);

setTimeout(()=>{
document.body.innerHTML="";

const heart=document.createElement("div");
heart.classList.add("big-heart");
heart.innerHTML="ðŸ’œ";
document.body.appendChild(heart);

const text=document.createElement("div");
text.classList.add("final-text");
text.innerHTML="In a world full of temporary thingsâ€¦<br>you are my forever ðŸ’œ";
document.body.appendChild(text);

/* Floating hearts mobile-safe */
setInterval(()=>{
const h=document.createElement("div");
h.innerHTML="ðŸ’œ";
h.style.position="fixed";
h.style.left=Math.random()*100+"vw";
h.style.top="100vh";
h.style.fontSize=(20+Math.random()*30)+"px";
h.style.transition="transform 6s linear, opacity 6s linear";
document.body.appendChild(h);

setTimeout(()=>{
h.style.transform="translateY(-120vh)";
h.style.opacity="0";
},50);

setTimeout(()=>h.remove(),6000);

},400);

},600);
}

</script>
